"use strict";(globalThis["webpackChunkportfolio"]=globalThis["webpackChunkportfolio"]||[]).push([[341],{8781:(e,t,o)=>{o.r(t),o.d(t,{default:()=>x});var l=o(9835);const c={class:"q-pa-md",style:{"font-family":"Prata"}},n=(0,l._)("div",{class:"text-h3 q-ml-md"},"Project Planner:",-1),s={key:0};function r(e,t,o,r,i,a){const p=(0,l.up)("BackButton"),d=(0,l.up)("ProjectNavBar"),u=(0,l.up)("FilterNav"),h=(0,l.up)("SingleProject");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(p),(0,l._)("div",c,[n,(0,l.Wm)(d),(0,l.Wm)(u,{onFilterChange:t[0]||(t[0]=t=>e.current=t),current:e.current},null,8,["current"]),e.projects.length?((0,l.wg)(),(0,l.iD)("div",s,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.filteredProjects,(t=>((0,l.wg)(),(0,l.iD)("div",{key:t.id},[(0,l.Wm)(h,{project:t,onDelete:e.handleDelete,onComplete:e.handleComplete},null,8,["project","onDelete","onComplete"])])))),128))])):(0,l.kq)("",!0)])],64)}var i=o(6941),a=o(8910),p=o(6970);const d={class:"actions"},u={class:"icons",sided:""},h={key:0,class:"details"},m={class:"text-h6"};function j(e,t,o,c,n,s){const r=(0,l.up)("q-icon");return(0,l.wg)(),(0,l.iD)("div",{class:(0,p.C_)(["project q-ml-xl q-mt-md",{complete:o.project.complete}])},[(0,l._)("div",d,[(0,l._)("div",{onClick:t[0]||(t[0]=e=>n.showDetails=!n.showDetails),class:"text-h5 title"},(0,p.zw)(o.project.title),1),(0,l._)("div",u,[(0,l.Wm)(r,{onClick:s.toggleComplete,name:"done",class:"qIcons tick"},null,8,["onClick"]),(0,l.Wm)(r,{onClick:t[1]||(t[1]=e=>c.editProject(o.project.id)),name:"edit",class:"qIcons"}),(0,l.Wm)(r,{onClick:s.deleteProject,name:"delete",class:"qIcons"},null,8,["onClick"])])]),n.showDetails?((0,l.wg)(),(0,l.iD)("div",h,[(0,l._)("div",m,(0,p.zw)(o.project.details),1)])):(0,l.kq)("",!0)],2)}const g={name:"singleProject",props:["project"],setup(){const e=(0,a.tv)(),t=t=>{e.push({path:"/edit-project",query:{id:t}})};return{editProject:t}},data(){return{showDetails:!1,uri:"http://localhost:3000/projects/"+this.project.id}},methods:{deleteProject(){fetch(this.uri,{method:"DELETE"}).then((()=>this.$emit("delete",this.project.id))).catch((e=>console.log(e.message)))},toggleComplete(){fetch(this.uri,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({complete:!this.project.complete})}).then((()=>{this.$emit("complete",this.project.id)})).catch((e=>console.log(e.message)))}}};var v=o(1639),C=o(2857),f=o(9984),k=o.n(f);const w=(0,v.Z)(g,[["render",j],["__scopeId","data-v-1b4c97c1"]]),D=w;k()(g,"components",{QIcon:C.Z});var P=o(7853);const b={class:"filter-nav text-center flex-center"};function q(e,t,o,c,n,s){const r=(0,l.up)("q-btn");return(0,l.wg)(),(0,l.iD)("div",b,[(0,l.Wm)(r,{onClick:t[0]||(t[0]=e=>s.updateFilter("all")),label:"View All",class:(0,p.C_)(["button",{active:"all"===o.current}])},null,8,["class"]),(0,l.Wm)(r,{onClick:t[1]||(t[1]=e=>s.updateFilter("completed")),label:"Completed",class:(0,p.C_)(["button",{active:"completed"===o.current}])},null,8,["class"]),(0,l.Wm)(r,{onClick:t[2]||(t[2]=e=>s.updateFilter("onGoing")),label:"On Going",class:(0,p.C_)(["button",{active:"onGoing"===o.current}])},null,8,["class"])])}const _={props:["current"],methods:{updateFilter(e){this.$emit("filterChange",e)}}};var y=o(8879);const W=(0,v.Z)(_,[["render",q]]),Z=W;k()(_,"components",{QBtn:y.Z});const B=(0,l.aZ)({name:"projectPlanner",components:{BackButton:i.Z,SingleProject:D,ProjectNavBar:P.Z,FilterNav:Z},setup(){const e=(0,a.yj)(),t=e.query.title;return{title:t}},data(){return{projects:[],current:"all"}},mounted(){fetch("http://localhost:3000/projects").then((e=>e.json())).then((e=>this.projects=e)).catch((e=>console.log(e.message)))},methods:{handleDelete(e){this.projects=this.projects.filter((t=>t.id!==e))},handleComplete(e){let t=this.projects.find((t=>t.id===e));t.complete=!t.complete}},computed:{filteredProjects(){return"completed"==this.current?this.projects.filter((e=>e.complete)):"onGoing"==this.current?this.projects.filter((e=>!e.complete)):this.projects}}}),F=(0,v.Z)(B,[["render",r]]),x=F}}]);